# 定制商品管理系统需求文档

## 一、文档基础信息



| 项目     | 内容                |
| ------ | ----------------- |
| 文档版本   | V1.0              |
| 需求提出方  | 业务部门              |
| 文档编写方  | 产品部               |
| 预计上线时间 | -                 |
| 适用系统模块 | 定制商品管理模块          |
| 核心使用对象 | 销售人员（查看、修改定制商品信息） |

## 二、功能概述

本需求文档明确定制商品管理模块的核心功能，涵盖定制商品的查询、列表展示、新增、AI 素材生成（快捷 + 高级配置）、样品通知单导出等操作，旨在满足销售人员对定制商品全流程管理需求，确保操作高效、数据精准、界面易用。

## 三、核心功能需求

### （一）查询功能

#### 1. 查询条件



| 查询条件 | 输入 / 选择方式 | 功能说明                                                        |
| ---- | --------- | ----------------------------------------------------------- |
| 所属类别 | 下拉选择框     | 选项包含系统内所有已创建商品类别（如 “学位服 - 本科”“学位服 - 硕士” 等），支持单选，默认显示 “全部类别” |
| 商品名称 | 文本输入框     | 支持模糊查询，输入关键词后实时匹配含该关键词的商品名称，输入长度限制 1-50 个字符                 |
| 所属客户 | 文本输入框     | 支持模糊搜索（输入客户名称关键词快速筛选），默认显示 “全部客户”                           |
| 日期区间 | 日期选择器     | 支持选择 “开始日期 - 结束日期”，时间范围无限制，默认显示 “近 30 天” 数据，关联商品创建 / 更新日期筛选 |

#### 2. 分页规则



* **控件位置**：查询结果区域底部，居中显示

* **每页条数**：默认 10 条 / 页，支持下拉选择（10 条、20 条、50 条、100 条）

* **分页操作**：包含 “首页”“上一页”“下一页”“末页” 按钮，当前页码高亮显示，支持直接输入页码跳转

* **数据统计**：分页控件左侧显示 “共 X 条数据，当前第 X 页 / 共 X 页”

### （二）列表展示

#### 1. 展示形式



* 以 “商品卡片” 网格布局排列，桌面端默认 3 列 / 行，移动端默认 1 列 / 行（响应式适配）

* 卡片间距 16px，边框圆角 8px，hover 时阴影加深（参数：0 4px 12px rgba (0,0,0,0.1)）

* 每个商品卡片左上角设复选框（16px\*16px）：未选中为空心正方形（边框 #999999），选中为蓝色实心正方形（内部白色对勾）

#### 2. 卡片字段展示



| 字段名称      | 展示位置                     | 格式要求                                             | 特殊说明                                                 |
| --------- | ------------------------ | ------------------------------------------------ | ---------------------------------------------------- |
| 商品图片（缩略图） | 卡片顶部，占卡片宽度 100%，高度 180px | 图片比例 16:9，支持 JPG、PNG 格式，加载失败显示默认商品占位图            | 鼠标移入弹出 “参考上传图” 预览窗口（400px\*300px），预览图为原始上传图，支持鼠标滚轮缩放 |
| 所属类别      | 缩略图下方，左对齐                | 字体 14px，颜色 #666666，最多显示 15 个字符，超出用 “...” 省略      | -                                                    |
| 商品名称      | 所属类别下方，左对齐               | 字体 16px，颜色 #333333，最多显示 20 个字符，超出用 “...” 省略，字体加粗 | 卡片核心信息，突出显示                                          |
| 所属客户      | 商品名称下方，左对齐               | 字体 14px，颜色 #666666                               | -                                                    |
| 价格        | 卡片底部左侧                   | 字体 16px，颜色 #E53935，格式 “¥XXX.00”，字体加粗             | 突出价格信息                                               |

### （三）功能按钮

#### 1. “新增” 按钮



* **位置**：查询条件区域右侧，尺寸 120px\*40px，边框圆角 4px

* **点击触发**：弹出 “商品新增窗口”（600px\*400px，居中显示，背景加半透明遮罩），窗口包含：


  * 定制商品名称输入框：顶部，标签 “定制商品名称”（14px，#333），输入长度 1-50 字符，必填项

  * 模板选择下拉框：标签 “模板选择”（14px，#333），选项为系统内已创建商品模板（如 “基础款学位服模板”），单选，必填项（未选择点击 “确定” 提示 “请选择商品模板”）

  * 客户信息输入框：模板选择框下方，标签 “客户信息”（14px，#333），输入长度 1-50 字符，必填项

  * 2D 定制按钮：窗口底部右侧，白色边框（#1890FF），文字蓝色，尺寸 140px\*40px，边框圆角 4px；点击后新标签页打开外部 2D 定制平台，跳转前提示 “是否前往 2D 定制平台？”

  * 窗口操作按钮：底部左侧 “确定”（蓝色实心 #1890FF）、“取消”（白色边框 #CCCCCC），尺寸均 100px\*40px

#### 2. “一键生成画册” 按钮



* **位置**：“新增” 按钮右侧，尺寸 140px\*40px，边框圆角 4px

* **功能说明**：复选定制商品后点击，系统自动将勾选商品（或当前查询结果商品）生成电子画册，插入定制商品相关的纹样、颜色、产品展示 page（去重）

#### 3. “生成样品通知单” 按钮



* **位置**：“一键生成画册” 按钮右侧，尺寸 140px\*40px，边框圆角 4px

* **功能说明**：复选定制商品后点击，按规则生成样品生产通知单（详见 “（六）生成样品通知单”）

### （四）AI 素材快捷生成功能

#### 1. 入口按钮



* **位置**：商品卡片底部，紫色实心（#722ED1），文字白色，尺寸 160px\*40px，边框圆角 4px，含 “AI 快捷生成” 文字及 AI 图标

#### 2. 弹出窗口



* **窗口规格**：700px\*500px，居中显示，背景加半透明遮罩，标题 “AI 素材快捷生成”（18px，#333，居中）

* **进度展示**：中部设 “步骤进度条”，含 4 个步骤（图标 + 文字 + 进度百分比），按顺序执行：


  * 步骤 1：服装上身（进度 25%）：系统自动匹配商品服装模型与虚拟人体模型，生成 “服装上身预览图”

  * 步骤 2：面料替换（进度 25%）：按商品默认面料参数替换为用户选择面料（默认关联商品面料，支持步骤前修改）

  * 步骤 3：图片生成（进度 25%）：生成 4 张不同角度商品图片（正面、侧面、背面、细节图），格式 PNG，分辨率 1920\*1080

  * 步骤 4：视频生成（进度 25%）：生成 1 个 15 秒商品展示视频（360° 旋转 + 细节特写），格式 MP4，分辨率 1080P

  * 状态区分：未执行步骤灰色，执行中步骤紫色（#722ED1），已完成步骤深紫色（#531DAB）

* **结果预览**：进度条下方设 “素材预览区”，步骤 4 完成后显示 4 张图片（2 列 2 行排列）和 1 个视频（缩略图带播放按钮）；点击图片 / 视频可放大预览（窗口 800px\*600px）

* **操作按钮**：


  * 重新生成：预览区下方左侧，白色边框（#722ED1），文字紫色，尺寸 120px\*40px；点击提示 “确定重新生成？原素材将被覆盖”，确认后重置进度条并重新执行 4 个步骤

  * 保存：预览区下方右侧，紫色实心（#722ED1），文字白色，尺寸 120px\*40px；仅步骤 4 完成后可点击，保存后提示 “素材保存成功，已关联至商品【XXX】”

### （五）AI 素材高级配置功能

#### 1. 入口按钮



* **位置**：商品卡片底部，“AI 素材快捷生成” 按钮右侧，紫色边框（#722ED1），文字紫色，尺寸 160px\*40px，边框圆角 4px，含 “AI 素材高级配置” 文字

#### 2. 弹出窗口



* **窗口规格**：800px\*600px，居中显示，背景加半透明遮罩，标题 “AI 素材高级配置”（18px，#333，居中）

* **窗口内容**：


  * 外部平台链接：顶部，标签 “外部设计平台”（14px，#333），右侧链接文本（蓝色，带下划线，如 “[https://design-platform.com](https://design-platform.com)”）；点击后新标签页打开周天宇 AI 工具平台，带入当前定制商品信息

  * 图片上传区：外部平台链接下方，标题 “图片上传（支持多张）”（14px，#333）；上传区域为虚线边框（#CCCCCC），尺寸 600px\*200px，支持 “点击上传”“拖拽上传”；格式限制 JPG、PNG，最多上传 4 张；上传后显示缩略图（一行排列，超出横向滚动），每张缩略图右上角 hover 显示 “删除” 按钮

  * 视频上传区：图片上传区下方，标题 “视频上传”（14px，#333）；上传区域样式与图片上传区一致，尺寸 600px\*150px，支持 “点击上传”“拖拽上传”；格式限制 MP4、MOV，最多上传 31 个；上传后显示带播放按钮的缩略图，右上角 hover 显示 “删除” 按钮

  * 确定按钮：窗口底部右侧，紫色实心（#722ED1），文字白色，尺寸 120px\*40px；点击前需满足 “至少上传 4 张图片或 1 个视频”，未满足提示 “请至少上传 1 张图片或 1 个视频”；点击后提示 “高级配置保存成功”

### （六）生成样品通知单

#### 1. 通知单生成规则



* **文件格式与命名**：格式为 Excel（.xlsx），文件名为 “样品生产通知单\_生成时间”（生成时间格式 YYYYMMDDHHMMSS）

* **sheet 页设置**：每个勾选的定制商品对应 1 个独立 sheet 页，sheet 页名称为该商品的品名

* **数据填充**：


  * 系统自动提取定制商品的客户名称、图片、品名、下单时间、学位、配色纹样数据

  * 客户名称、品名、下单时间、学位、配色纹样（文本数据）：按上传 Excel 表格对应字段位置填充，字体宋体 14px，颜色 #333333

  * 商品图片：按上传 Excel 表格预留位置插入，大小自动适配（宽度不超过预留区域宽度，高度按比例缩放）

#### 2. 生成与导出流程



1. 用户勾选定制商品后，点击 “生成样品生产通知单” 按钮

2. 系统校验：未勾选商品提示 “请勾选商品”；部分商品数据缺失提示 “部分商品数据缺失，请检查”（提示框 300px\*150px，标题 “提示”，文字红色）

3. 校验通过后，页面中央显示蓝色旋转加载动画（直径 60px），开始生成通知单

4. 生成完成后，自动弹出文件下载窗口（支持选择保存路径，提供 “打开文件夹” 功能）

## 四、字段说明

### （一）定制商品信息



| 字段      | 类型            | 是否必输 | 备注                               |
| ------- | ------------- | ---- | -------------------------------- |
| 所属类别    | 下拉字典（学位服、校服等） | 是    | 来源于定制模板                          |
| 商品编码    | 字符串           | 是    | 系统生成，格式 “DS-DP-4 位自增数”           |
| 商品名称    | 字符串           | 是    | 模板名称 +“—”+ 所属客户                  |
| 所属客户    | 字符串           | 是    | 来源于 2D 定制页面的 “客户信息”              |
| 商品属性    | 下拉字典（定制、标品）   | 是    | -                                |
| 价格      | 数值            | 是    | 计算公式：部件加工费 + 面料费用 + 辅料费用（图案、校徽等） |
| 商品图片    | 图片            | 是    | 2D 定制后的截图                        |
| AI 图片   | 图片            | 否    | 来源于 AI 接口                        |
| AI 视频   | 视频            | 否    | 来源于 AI 接口                        |
| 模板编码    | 字符串           | 是    | 定制模板编码                           |
| 定制 JSON | 字符串           | 否    | 定制后的 JSON 信息                     |
| 状态      | 下拉字典（启用、停用）   | 是    | 默认启用                             |
| 排序      | 数值            | 否    | -                                |
| 创建时间    | 时间戳           | 否    | 系统生成                             |
| 创建人     | 字符串           | 否    | 系统生成                             |
| 修改时间    | 时间戳           | 否    | 系统生成                             |
| 修改人     | 字符串           | 否    | 系统生成                             |
| 删除标志    | 下拉字典（正常、删除）   | 否    | 默认正常，系统生成                        |

### （二）组合信息



| 字段   | 类型            | 是否必输 | 备注                               |
| ---- | ------------- | ---- | -------------------------------- |
| 物料类别 | 下拉字典（学位服、校服等） | 是    | 来源于定制模板                          |
| 物料编码 | 字符串           | 是    | 系统生成，格式 “DS-DP-4 位自增数”           |
| 物料名称 | 字符串           | 是    | 模板名称 +“—”+ 所属客户                  |
| 颜色   | 字符串           | 是    | 来源于 2D 定制页面的 “客户信息”              |
| 号码   | 下拉字典（定制、标品）   | 是    | -                                |
| 价格   | 数值            | 是    | 计算公式：部件加工费 + 面料费用 + 辅料费用（图案、校徽等） |
| 物料图片 | 图片            | 是    | 2D 定制后的截图                        |
| 状态   | 下拉字典（启用、停用）   | 是    | 默认启用                             |
| 排序   | 数值            | 否    | -                                |
| 创建时间 | 时间戳           | 否    | 系统生成                             |
| 创建人  | 字符串           | 否    | 系统生成                             |
| 修改时间 | 时间戳           | 否    | 系统生成                             |
| 修改人  | 字符串           | 否    | 系统生成                             |
| 删除标志 | 下拉字典（正常、删除）   | 否    | 默认正常，系统生成                        |

## 五、验收标准



1. 功能覆盖：所有需求中提及的查询、新增、AI 素材生成、样品通知单导出等功能均需实现，无遗漏

2. 逻辑准确性：数据流转（如定制商品信息→AI 素材关联→通知单数据填充）无断点，字段值与来源一致

3. 界面一致性：按钮样式、字体、颜色、布局符合需求描述，响应式适配无错乱

4. 异常处理：未勾选商品、数据缺失、上传格式错误等场景，均有明确提示，无崩溃或空白页面

5. 操作流畅性：按钮点击、窗口弹出、素材生成等操作无卡顿，加载动画正常显示

> （注：文档部分内容可能由 AI 生成）